<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>CustoCat</title>
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>
  <body>
    <div> 
      <img src="images/test/image1.jpg" class="imgHead" id="testImage1" width="300px" height="300px"> 
      <img src="images/legs/image1.jpeg" class="imgTorso" id="testImage2" width="300px" height="300px"> 
    </div>
    <br>
    <div class="buttonPosition">
        <button onclick="nextImage('testImage1', 0)">
            Next Cat 
        </button> 
    
        <button onclick="previousImage('testImage1', 0)">
          Previous Cat 
        </button>
    
    
        <button onclick="nextImage('testImage2', 3)">
            Next Octopus 
        </button> 
    
        <button onclick="previousImage('testImage2', 3)">
          Previous Octopus
        </button>
    </div>
    
    

<script>
  // Required packages
  const fs = require('fs')

  // Categorised arrays
  var catArray = getFiles('./images/test/')
  var headImgArray = getFiles('./images/head/')
  var torsoImgArray = getFiles('./images/torso/')
  var legImgArray = getFiles('./images/legs/')
  var extraImgArray = getFiles('./images/accessory/')

  // Main arrays
  var mainArray = [catArray, headImgArray, torsoImgArray, legImgArray, extraImgArray]
  var counterArr = [0,0,0,0,0]


  function nextImage(element, arrayNum) {
    var img = document.getElementById(element)
    if (counterArr[arrayNum] == mainArray[arrayNum].length - 1) {
      counterArr[arrayNum] = 0
      img.src = mainArray[arrayNum][0]
    }
    else {
      counterArr[arrayNum] += 1
      img.src = mainArray[arrayNum][counterArr[arrayNum]]
    }
  }

  function previousImage(element, arrayNum) {
    var img = document.getElementById(element)
    if (counterArr[arrayNum] == 0) {
      counterArr[arrayNum] = mainArray[arrayNum].length - 1
      img.src = mainArray[arrayNum][counterArr[arrayNum]]
    }
    else {
      counterArr[arrayNum] -= 1
      img.src = mainArray[arrayNum][counterArr[arrayNum]]
    }
  }

  function getFiles(dir){
    fileList = [];
 
    var files = fs.readdirSync(dir);
    for(var i in files){
        if (!files.hasOwnProperty(i)) continue;
        var name = dir+'/'+files[i];
        if (!fs.statSync(name).isDirectory()){
            fileList.push(name);
        }
    }
    return fileList;
  }

  </script>
  </body>
</html>
